### 对称加密

顾名思义，加密和解密都是同一个秘钥，所以速度较快，但由于秘钥需要在网络中传输，所以安全性不高。

![](http://dev.biubiupiu.cn/20191123145420.png)

加密算法：DES，AES等。

### 非对称加密

加密秘钥和解密秘钥是不同的秘钥，用公钥加密只能使用私钥解密，用私钥加密，只能使用公钥解密。

安全性更高，公钥是公开的，密钥是自己保存的，不需要将私钥给别人。缺点：加密和解密花费时间长、速度慢，只适合对少量数据进行加密。

加密算法：RSA

### 非对称加密和对称加密的结合

将对称加密的密钥使用非对称加密的公钥进行加密，然后发送出去，接收方使用私钥进行解密得到对称加密的密钥，然后双方可以使用对称加密来进行沟通。

但是这样还是有一个问题就是，公钥的交换过程中会被第三方拦截掉包，不能确定这个公钥就是我想要的那个人发过来的。

### 不可逆加密

加密过程中不需要使用密钥，输入明文后由系统直接经过加密算法处理成密文，这种加密后的数据是无法被解密的，无法根据密文推算出明文。

加密算法：MD5，SHA

### 数字签名

![](http://dev.biubiupiu.cn/20191123144953.png)

> 用私钥对消息摘要进行加密，必须用对应的公钥才能解开

### 数字证书

证书实际上就是对公钥进行数字签名，它是对公钥合法性提供证明的技术。

![](http://dev.biubiupiu.cn/20191123150224.png)

数字证书就是将我们要加密的信息进行私钥加密，然后再和加密的信息合并。

图中对公钥和个人信息先进行了hash算法生成了消息摘要，然后再进行签名，我认为的原因应该是Hash算法的一个特点，他可以对一段任何长度的内容生成固定长度的摘要，这样就可以解决我们私钥加密的时候数据长度过长而加密慢的问题。

> 客户端收到了数字证书后，对证书合法性验证后，会用CA公钥对数字签名解密，然后再将[公钥和，个人信息]进行同样的hash算法生成摘要，进行比对，相同则未发生篡改。

对于上面的CA公钥的传输其实感觉又回到了最开始的公钥掉包的问题，那么这个公钥的合法性又该如何保证？该问题可以无限循环下去，岂不是到不了头了？这已经是个社会学问题了。

我们需要一个可信的机构来颁发证书和提供公钥，只要是它提供的公钥，我们就相信是合法的。

（公众号码农翻身注：这些ＣＡ本身也有证书来证明自己的身份，并且ＣＡ的信用是像树一样分级的，高层的ＣＡ给底层的ＣＡ做信用背书，而操作系统／浏览器中会内置一些顶层的ＣＡ的证书，相当于你自动信任了他们。　这些顶层的ＣＡ证书一定得安全地放入操作系统／浏览器当中，否则世界大乱。）

### 生成证书

![](http://dev.biubiupiu.cn/20191123152810.png)

> 证书是存在服务器的

![](http://dev.biubiupiu.cn/20191123152954.png)

.crt 结尾的就是证书，.key结尾就是私钥

### https 整个过程

![](http://dev.biubiupiu.cn/20191123153132.png)

