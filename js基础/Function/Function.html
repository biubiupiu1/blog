<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .testClass {
            background: red;
            width: 100px;
            height: 120px;
            animation: ani 1s infinite;
        }

        @keyframes ani {
            from {
                margin-left: 0px;
            }

            to {
                margin-left: 100px;
            }
        }
    </style>
</head>

<body>
    <div class="testClass"></div>
    <script>
        setInterval(function slowFunc() {
            var arr = [];
            for (var i = 0; i < 1000; i++) {
                arr.push(i);
                arr.sort();
            }
        }, 50)
        // let fun = new Function("console.log(arguments.callee)");
        // //fun();

        // var domQuery = (function () {
        //     var aDOMFunc = [
        //         Element.prototype.removeAttribute,
        //         Element.prototype.setAttribute,
        //         CSSStyleDeclaration.prototype.removeProperty,
        //         CSSStyleDeclaration.prototype.setProperty
        //     ];

        //     function setSomething(bStyle, sProp, sVal) {
        //         var bSet = Boolean(sVal), fAction = aDOMFunc[bSet | bStyle << 1],
        //             aArgs = Array.prototype.slice.call(arguments, 1, bSet ? 3 : 2),
        //             aNodeList = bStyle ? this.cssNodes : this.nodes;

        //         if (bSet && bStyle) { aArgs.push(""); }
        //         for (
        //             var nItem = 0, nLen = this.nodes.length;
        //             nItem < nLen;
        //             fAction.apply(aNodeList[nItem++], aArgs)
        //         );
        //         this.follow = setSomething.caller;
        //         return this;
        //     }

        //     function setStyles(sProp, sVal) { return setSomething.call(this, true, sProp, sVal); }
        //     function setAttribs(sProp, sVal) { return setSomething.call(this, false, sProp, sVal); }
        //     function getSelectors() { return this.selectors; };
        //     function getNodes() { return this.nodes; };

        //     return (function (sSelectors) {
        //         var oQuery = function () {
        //             return arguments.callee.follow.apply(arguments.callee, arguments);
        //         }
        //         oQuery.selectors = sSelectors;
        //         oQuery.nodes = document.querySelectorAll(sSelectors);
        //         oQuery.cssNodes = Array.prototype.map.call(oQuery.nodes, function (oInlineCSS) { return oInlineCSS.style; });
        //         oQuery.attributes = setAttribs;
        //         oQuery.inlineStyle = setStyles;
        //         oQuery.follow = getNodes;
        //         oQuery.toString = getSelectors;
        //         oQuery.valueOf = getNodes;
        //         return oQuery;
        //     });
        // })();

        // // console.dir(
        // //     domQuery('.testClass')
        // //         .attributes('lang', 'en')('title', 'Risus abundat in ore stultorum')
        // //         .inlineStyle('background-color', 'black')('color', 'white')('width', '100px')('height', '50px')
        // // )

        // let he = "hello"

        // let obj = new Proxy({test: "沙雕", obj: {}}, {
        //     has(target, key) {
        //         if (["console", "Math", "Date"].indexOf(key) >= 0)
        //             return;
        //         if (!target.hasOwnProperty(key))
        //             throw new Error("非法访问");
        //         return target[key]
        //     }
        // })


        // with (obj) {
        //     let test = {};
        //     console.log(test)
        //     obj.__proto__.toString = () => {
        //         //console.log(new (() => {}).constructor("alert('xss')")())
        //     }
        //     console.log(obj.__proto__.toString)
        // }

        // obj.toString();

        // console.log((() => {}).constructor === Function)

    </script>
</body>

</html>